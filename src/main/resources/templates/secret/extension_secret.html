<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layout}">
<head>
    <title>KotLink - Extension Secret</title>
</head>
<body>
<!--/* @thymesVar id="apiSecret" type="org.kotlink.core.secret.ApiSecret" */-->
<main layout:fragment="content">
    <div class="layout-spacer"></div>
    <div class="mdc-card" style="padding: 15px 25px 25px 25px;">
        <div>
            <div id="server-url-field"
                 class="mdc-text-field"
                 data-mdc-auto-init="MDCTextField"
                 style="width: 600px;">
                <input id="server-url-input"
                       type="text"
                       class="mdc-text-field__input"
                       th:value="${@viewUtils.serverUrlFromRequest(#request)}"
                       readonly>
                <label class="mdc-floating-label"
                       for="server-url-input">
                    Your KotLink Server URL:
                </label>
                <button id="copy-server-url-to-clipboard"
                        class="mdc-button"
                        type="button"
                        style="float: right;">
                    To Clipboard
                </button>
            </div>
            <div style="display: block"></div>
            <div id="user-secret-field"
                 class="mdc-text-field"
                 data-mdc-auto-init="MDCTextField"
                 style="width: 600px">
                <input id="user-secret-input"
                       type="text"
                       class="mdc-text-field__input"
                       th:value="${apiSecret.secret}"
                       readonly>
                <label class="mdc-floating-label"
                       for="user-secret-input">
                    Your Secret for Browser Extension:
                </label>
                <button id="copy-token-to-clipboard"
                        class="mdc-button"
                        type="button"
                        style="float: right;">
                    To Clipboard
                </button>
            </div>
        </div>
        <p class="mdc-typography--caption" style="padding-top: 15px">
            For more information, check the documentation at
            <a href="http://kotlink.org/docs/extension-guide.html#kotlink-extension-options">kotlink.org</a>
        </p>
    </div>
    <script>
        kotlink.onReady(() => {
            document.getElementById('copy-server-url-to-clipboard').addEventListener('click', function () {
                document.getElementById("server-url-input").select();
                document.execCommand("copy");
            });
            document.getElementById('copy-token-to-clipboard').addEventListener('click', function () {
                document.getElementById("user-secret-input").select();
                document.execCommand("copy");
            });
        });
    </script>
</main>
</body>
</html>